# Ulink-iOS ì„±ì€'s Work â£ï¸ğŸŒâ£ï¸

## CalendarViewğŸ—“


### <img src="https://emoji.slack-edge.com/T016U39U5K2/ulink-white/7a9f6567dc63c937.png" width=2%> ì‚¬ì „ì¤€ë¹„
- #### ìº˜ë¦°ë”ë·° ë””ìì¸   
  
  <img src="./image/calendarDesign.png" width="40%">

- #### ì¼ì • ì„¸ë¶€ íŒì—… ì°½ ë””ìì¸
  
  <img src="./image/eventdetail_design.png" width="40%">

- #### í•´ì•¼í•  ì¼

  |  1. ì „ì²´ ìº˜ë¦°ë” ì§œê¸°  |       | | 2. ë‹¬ë ¥ì—ì„œ ì¼ì • ë³´ì—¬ì£¼ê¸° |    |   | 3. ë‚ ì§œ í´ë¦­ ì´ë²¤íŠ¸| |
  | ----    | ---- | ---- | ----|----|----|----|----|
  |ë ˆì´ì•„ì›ƒ |    ğŸ™†â€â™€ï¸ |   |   ì„œë²„ í†µì‹  (ê³¼ëª© ì •ë³´ ë°ì´í„°) | ğŸ™…â€â™€ï¸| |ì…€ í´ë¦­í•˜ë©´ ì¼ì • ì„¸ë¶€ ë·° ë„ìš°ê¸° | ğŸ™†â€â™€ï¸|
  | ë‹¤ìŒë‹¬, ì´ì „ë‹¬ ë²„íŠ¼ |   ğŸ™†â€â™€ï¸  | |í•´ë‹¹ ë‚ ì§œì— í•´ë‹¹ ìƒ‰ê¹”ë¡œ ì´ë¦„ ì¼ì • ì°ê¸° | ğŸ™†â€â™€ï¸ |  |ì¼ì • ë°ì´í„° ì„¸ë¶€ ì •ë³´ ë¦¬ìŠ¤íŠ¸|ğŸ™†â€â™€ï¸|
  |    ìœ¤ë‹¬ ì„¤ì • |   ğŸ™†â€â™€ï¸  |  | | | |ì¼ì • í´ë¦­í•˜ë©´ ì–´ë””ë¡ ê°€ ì´ë™í•˜ê¸°|ğŸ™…â€â™€ï¸|
  |ì´ì „ë‹¬, ë‹¤ìŒë‹¬ placeholder|ğŸ™†â€â™€ï¸| | | | |ìŠ¤ì™€ì´í”„í•´ì„œ ì „ ë‚ , ë‹¤ìŒ ë‚  ë³´ì—¬ì£¼ê¸° |ğŸ™…â€â™€ï¸|
  |ì¼ìš”ì¼ ìˆ«ì ìƒ‰ê¹” ë‹¤ë¥´ê²Œ|ğŸ™†â€â™€ï¸| | | | |ì¼ì • í´ë¦­í•˜ë©´ ì–´ë””ë¡ ê°€ ì´ë™í•˜ê¸°|ğŸ™…â€â™€ï¸|




### <img src="https://emoji.slack-edge.com/T016U39U5K2/ulink-purple/2e44cf60188f40d7.png" width="2%"> ê°œë°œë‚´ìš©
- #### ~~ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚½ì§ˆ~~  

    ìº˜ë¦°ë” ë¼ì´ë¸ŒëŸ¬ë¦¬ : "FSCalendar"   
    â¡ï¸ [FSCalendar ë¼ì´ë¸ŒëŸ¬ë¦¬ github](https://github.com/WenchaoD/FSCalendar)   
    ìº˜ë¦°ë”ê°€ ì™„ë²½í•˜ê²Œ êµ¬í˜„ë˜ì–´ ìˆê³  ì–´ëŠì •ë„ ì»¤ìŠ¤í…€ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” íŠ¹ì§•!   

     FSCalendar ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì—´ì–´ì„œ ì”¹ê³  ëœ¯ê³  ë§›ë³´ê¸°   
     
    
    #### <í…ŒìŠ¤íŠ¸ í•´ë³¸ ê²°ê³¼>
     <img src="./image/fscalendar.png" width="40%">   

     ë””ìì¸ ì¼ì • ë¶€ë¶„ ë³€ê²½, ì´ë²¤íŠ¸ ì¶”ê°€ ë“±ì´ ê°€ëŠ¥í–ˆì§€ë§Œ ë””ìì¸ë‹¨ì—ì„œ ì›í•˜ëŠ” ë·°ë¥¼ ë§Œë“¤ê¸°ì—ëŠ” ì–´ë ¤ì›€ì´ ìˆì—ˆë‹¤.   
     ê²°êµ­ FSCalendarëŠ” ì‚¬ìš©í•˜ì§€ ì•Šê¸°ë¡œ... ğŸ˜ˆ

     ì–´ë ¤ì› ë˜ì  ğŸ‘‰ íŒŒì¼ì„ ê³ ì³ë³´ê³  ì‹¶ì—ˆëŠ”ë° ìˆ˜ì •í•´ë„ ê²°ê³¼ê°€ ë°˜ì˜ë˜ì§€ ì•Šì•˜ë‹¤.. ì´ìœ ë¥¼ ëª¨ë¥´ê² ë‹¤.. (ê·¸ëŸ¬ë‚˜ ì§ì ‘ ë§Œë“  ë·°ê°€ ë” ë§˜ì— ë“ ë‹¤..!)

***

- #### CollectionViewë¡œ ìº˜ë¦°ë” ì²˜ìŒë¶€í„° ì§œê¸°
  
  - ì›” ë³„ ë‚ ì§œ ìˆ˜ë¥¼ ë°°ì—´ë¡œ ì €ì¥
  ``` swift
  var numOfDate = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]
  ```
  - ìœ¤ë…„ ì„¤ì •   
    4ë…„ì— í•œë²ˆ 2ì›”ì˜ ì¼ ìˆ˜ë¥¼ 29ë¡œ ë³€ê²½
  ``` swift
  if (todayYear % 4 == 0){
            numOfDate[1] = 29
        } else {
            numOfDate[1] = 28
        }
  ```

  - ìº˜ë¦°ë”ë¥¼ ì²˜ìŒ ì—´ì—ˆì„ ë•Œ ì˜¤ëŠ˜ ë‚ ì§œì˜ ë‹¬ì„ ë„ì›Œì£¼ê¸° ìœ„í•´ ì˜¤ëŠ˜ ë‚ ì§œ(today)ë¥¼ ì•Œì•„ë‚´ê³  í˜„ì¬ í˜ì´ì§€ ë‚ ì§œ(current)ì— ì €ì¥   
  ë‹¤ìŒë‹¬, ì´ì „ë‹¬ ë²„íŠ¼ì„ í„°ì¹˜í•˜ë©´ current ë³€ìˆ˜ë¥¼ 1ì”© ë³€ê²½

  - 1ì¼ì˜ ìš”ì¼ì„ ì•Œì•„ë‚´ê¸°   
  (ì¼ìš”ì¼ - 1, ì›”ìš”ì¼ - 2 ... ê°’ì„ return)
  ``` swift
  func getFirstWeekDay() -> Int{
        let dateFormatter = DateFormatter()
        dateFormatter.dateFormat = "dd-M-yyyy"
        let dateString = "01-" + String(currentMonth) + "-" + String(currentYear)
        let myDay = dateFormatter.date(from: dateString)
        let first = cal.dateComponents([.weekday], from: myDay!)
        
        let firstWeekDay = first.weekday!
        return firstWeekDay
  }
  ```

  - ì „ì²´ cell ê°œìˆ˜
    ì´ì „ë‹¬ placeholderì™€ ì´ë²ˆë‹¬ ì¼ ìˆ˜ì˜ í•©ì´ 
    - 28ì´ë©´ cell ìˆ˜ëŠ” 28
    - 35ë³´ë‹¤ í¬ë©´ cell ìˆ˜ëŠ” 42
    - ë‚˜ë¨¸ì§€ëŠ” cell ìˆ˜ 35

  - cell ë‚ ì§œ ì°ëŠ” í•¨ìˆ˜   
  textColor ë³€ìˆ˜ë¡œ ê¸€ì ìƒ‰ êµ¬ë¶„   
     * ì €ë²ˆë‹¬, ë‹¤ìŒë‹¬ placeholder : íšŒìƒ‰ ê¸€ì”¨
     * ì˜¤ëŠ˜ ë‚ ì§œ : í°ìƒ‰ ê¸€ì”¨ + ë³´ë¼ìƒ‰ ë°°ê²½
     * ì¼ìš”ì¼ : ë³´ë¼ìƒ‰ ê¸€ì”¨
     * ë‚˜ë¨¸ì§€ : ê²€ì •ìƒ‰ ê¸€ì”¨
  ```swift
  func setDayCell(firstDay: Int, textColor: Int)
  ```

  - ë‚ ì§œ êµ¬ë¶„ ì¡°ê±´   
     * ì´ì „ë‹¬ placeholder
     ```swift
     indexPath.row >= 0 && indexPath.row < first
     ```
     * ì´ë²ˆë‹¬
     ```swift
     indexPath.row >= first && indexPath.row < last + first
     ```
     * ì´ë²ˆë‹¬ í† ìš”ì¼
     ```swift
     (indexPath.row % 7) == 0
     ```
     * ì´ë²ˆë‹¬ ì˜¤ëŠ˜
     ```swift
     ((indexPath.row - first + 1) == todayDate) && (currentMonth == todayMonth) && (currentYear == todayYear)
     ```
     * ë‹¤ìŒë‹¬ placeholder - else

  - ì¼ì • ì œëª© padding   
    ë””ìì¸ì ìœ¼ë¡œ paddingì´ í•„ìš”í•´ì„œ UILabelì— padding ë„£ëŠ” ë°©ë²•ì„ ì°¾ë‹¤ê°€ inset ì„¤ì •ì´ ìˆëŠ” UIButtonì— ì‚¬ìš©ì interaction enabledë¥¼ í•´ì œí•´ì„œ ì‚¬ìš©

  - cellì— ì¼ì • ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜   
  ë‚ ì§œ, eventName ë°°ì—´, color ë°°ì—´ì„ ì„œë²„ì—ì„œ ë°›ì•„ì„œ í•´ë‹¹ ë‚ ì§œì— ê°œìˆ˜ë§Œí¼ ì¼ì •ì„ ì°ì–´ì¤€ë‹¤.
  ```swift
  func setEvent(eventName: [String], color: [UIColor])
  ```

     #### <ì—¬ê¸°ê¹Œì§€ ë·° ì™„ì„±ë³¸>
     <img src="./image/calComplete.png" width="40%">

   
   __ì–´ë ¤ì› ë˜ ì __   
   ğŸ‘‰ cell ë ˆì´ì•„ì›ƒ ì¡ëŠ” ê²ƒì´ ì–´ë ¤ì› ë‹¤. collection view flow layoutì„ í†µí•´ cell í¬ê¸°ë¥¼ ì§€ì •í•´ì¤¬ëŠ”ë° ì™œ cell ì•ˆì˜ ë‚´ìš©ë¬¼ì— ë”°ë¼ í¬ê¸°ê°€ ë³€í• ê¹Œ..?   
   __ìƒˆë¡œ ë°°ìš´ ì __    
   ğŸ‘‰ ë‹¬ë ¥ì²˜ëŸ¼ í•˜ë‚˜ì˜ collection viewë¥¼ ê³„ì† reload í•´ì¤˜ì•¼í•˜ëŠ” ê²½ìš°ì—ëŠ” ë·° ì„¤ì •ì„ ê³„ì† ì´ˆê¸°í™” í•´ì£¼ëŠ” ê²ƒì´ ì´ìƒí•œ ì˜¤ë¥˜ê°€ ì•ˆ ì¼ì–´ë‚œë‹¤ëŠ” ê²ƒ!


***   
- #### ë·° ìˆ˜ì •(07/06)
  #### ì˜¤ëŠ˜ì´ í¬í•¨ëœ ë‹¬ë¡œ ëŒì•„ì˜¤ëŠ” ë²„íŠ¼ ì¶”ê°€

  - current ë³€ìˆ˜ë¥¼ today ë³€ìˆ˜ë¡œ ë³€ê²½ í›„ collection view reload
  ```swift
  @IBAction func backToToday(_ sender: Any) {
      currentMonth = todayMonth
      monthLabel.text = String(currentMonth) + "ì›”"
      calendarCollectionView.reloadData()
  }
  ```

  - ë²„íŠ¼ ì´ë¯¸ì§€ë¥¼ ë°°ê²½ìœ¼ë¡œ ê¹”ê³ , textëŠ” ì˜¤ëŠ˜ ë‚ ì§œë¡œ

  #### <ì—¬ê¸°ê¹Œì§€ ë·° ì™„ì„±ë³¸>
  <img src="./image/calModified.png" width="40%">

***

- #### ë‚ ì§œ ì…€ í´ë¦­ ì´ë²¤íŠ¸


  - íŒì—… ì°½ ë„ìš°ê¸°   
  ìƒˆë¡œìš´ VC ! (DetailEventViewController)   
  ë°°ê²½ ê²€ì •ìƒ‰ìœ¼ë¡œ ì§€ì • í›„ opacityê¹Œì§€ ì§€ì •í•´ì¤Œ

    calendar view ìœ„ì— overCurrentContext ì„¤ì •ìœ¼ë¡œ modal ë„ì›Œì£¼ê¸°
  ```swift
    func collectionView(_ collectionView: UICollectionView, didSelectItemAt indexPath: IndexPath) {
        guard let popUpVC = self.storyboard?.instantiateViewController(identifier: "detailEvent") as? DetailEventViewController else {return}

        popUpVC.modalPresentationStyle = .overCurrentContext
        present(popUpVC, animated: false, completion: nil)
    }
    ```

  - ë¹ˆ ë¶€ë¶„ í´ë¦­í•˜ë©´ íŒì—… ì°½ ë‹«ê¸°   
  touchí•œ ë¶€ë¶„ì´ collection viewê°€ ì•„ë‹ˆë©´ íŒì—… ì°½ dismiss
  ```swift
  override func touchesBegan(_ touches: Set<UITouch>, with event: UIEvent?)
    {
        let touch = touches.first
        if touch?.view != self.detailEventCollectionView
        { self.dismiss(animated: false, completion: nil) }
    }
  ```
  - calendar viewì—ì„œ ì„œë²„ë¡œë¶€í„° ë°ì´í„°ë¥¼ ë°›ì•„ detail event viewë¡œ ë„˜ê²¨ì¤„ ì˜ˆì •   
    ì¼ë‹¨ ë”ë¯¸ ë°ì´í„°ë¥¼ ë„ì›Œë³´ì•˜ë‹¤ğŸ˜²   
    ì¼ì • ì°ëŠ” í•¨ìˆ˜   
    ë‚ ì§œ ì œëª©ê°’, ì´ë²¤íŠ¸ ë°°ì—´, ì¹´í…Œê³ ë¦¬ ë°°ì—´, ì‹œê°„ ë°°ì—´ì„ ë„£ì–´ì„œ ë°ì´í„° ë³€ê²½
  ```swift
  func setEventList(date: String, eventName: [String], category: [Int], time: [String]){
        dateLabel.text = date
        for i in 0...eventName.count-1{
            eventListViews[i].isHidden = false
            eventNameLabels[i].text = eventName[i]
            if (category[i] == 0) {
                categoryLabels[i].setTitle("ì‹œí—˜", for: .normal)
                categoryLabels[i].backgroundColor = UIColor.periwinkleBlue
            } else if (category[i] == 1){
                categoryLabels[i].setTitle("ìˆ˜ì—…", for: .normal)
                categoryLabels[i].backgroundColor = UIColor.robinSEgg
            } else {
                categoryLabels[i].setTitle("ê³¼ì œ", for: .normal)
                categoryLabels[i].backgroundColor = UIColor.pink
            }
            timeLabels[i].text = time[i]
        }
        
    }
  ```
  #### <ì—¬ê¸°ê¹Œì§€ ë·° ì™„ì„±ë³¸>
  <img src="./image/eventdetail.png" width="40%">

  ì–´ë ¤ìš´ ì    
  ğŸ‘‰ ì¼ì •ì„ ìŠ¤ì™€ì´í”„ í•´ì„œ ì• ë’¤ë¡œ ë„ìš°ëŠ” ë°©ë²•ì— ëŒ€í•´ ë§ì€ ê³ ë¯¼ì„ í–ˆë‹¤   
  ìƒˆë¡œ ë°°ìš´ ì    
  ğŸ‘‰ ë’¤ê°€ ì–´ë‘¡ê²Œ ë³´ì´ëŠ” íŒì—… ì°½ì„ ë„ìš°ëŠ” ë²•ì„ ì•Œì•˜ë‹¤

  - ì¶”ê°€ì‚¬í•­   
    ì¢Œìš°ë¡œ ìŠ¤ì™€ì´í”„ í–ˆì„ ë•Œ ì „ë‚ , ë‹¤ìŒë‚ ì˜ ì¼ì • ì„¸ë¶€ ë·° ë³´ì´ê²Œ   
    calendar viewì—ì„œ í•œ ë‹¬ ë‹¨ìœ„ë¡œ ë°°ì—´ í˜•íƒœì˜ ë°ì´í„°ë¥¼ ë„˜ê²¨ì£¼ë©´ í•´ë‹¹ ë°ì´í„°ë¡œ collection view cell ë§Œë“¤ê¸°

  - ìŠ¤ì™€ì´í”„ í–ˆì„ ë•Œ collection view cell ë‹¨ìœ„ë¡œ ì…€ ë„˜ì–´ê°€ê²Œ   
    cell ê°€ë¡œ ê¸¸ì´ë§Œí¼ ì´ë™ì´ë™   
    ëŒ€ì‹  ì¡´ì¬í•˜ëŠ” cell ë°–ìœ¼ë¡œ ë„˜ì–´ê°€ì§€ ì•Šë„ë¡ ë²”ìœ„ ì§€ì •í•´ì£¼ê¸°
  ```swift
  @IBAction func swipeLeft(_ sender: Any) {
        let x = self.detailEventCollectionView.bounds.origin.x
        if (x < (self.detailEventCollectionView.frame.width-45) * 2){
            self.detailEventCollectionView.setContentOffset(CGPoint(x: self.detailEventCollectionView.bounds.origin.x + self.detailEventCollectionView.frame.width - 45, y: 0), animated: true)
        }
    }
    
    @IBAction func swipeRight(_ sender: Any) {
        let x = self.detailEventCollectionView.bounds.origin.x
        if (x > 0){
            self.detailEventCollectionView.setContentOffset(CGPoint(x: self.detailEventCollectionView.bounds.origin.x - self.detailEventCollectionView.frame.width + 45, y: 0), animated: true)
        }
    }
  ```

  - calendar viewì—ì„œ ë‚ ì§œ ì…€ ì„ íƒí–ˆì„ ë•Œ í•´ë‹¹ ë‚ ì§œì˜ ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ë„ë¡ ì²˜ìŒ íŒì—…ë·°ê°€ ëœ° ë•Œ collection viewì˜ ì‹œì‘ì§€ì ì„ ì •í•´ì£¼ì   
  xê°’ì— ë”í•´ì§€ëŠ” ë¶€ë¶„ì„ ë³€ìˆ˜ë¡œ ì§€ì •í•´ì¤„ ê²ƒ
  ```swift
  func collectionView(_ collectionView: UICollectionView, willDisplay cell: UICollectionViewCell, forItemAt indexPath: IndexPath) {
        if (started == false){
            started = true
            self.detailEventCollectionView.setContentOffset(CGPoint(x: self.detailEventCollectionView.bounds.origin.x + self.detailEventCollectionView.frame.width - 45, y: 0), animated: false)
        }
  }
  ```

  
  ~~â—ï¸ ì•„ì§ ìŠ¤ì™€ì´í”„í•´ì„œ ì „ë‚ ê³¼ ë‹¤ìŒë‚ ì˜ ë°ì´í„°ê°€ ë³´ì´ëŠ” ê¸°ëŠ¥ì€ êµ¬í˜„í•˜ì§€ ì•Šì•˜ë‹¤..! í™”ì´íŒ… ë‚˜ ìì‹ ,,, â—ï¸~~   
  -> ìŠ¤ì™€ì´í”„ ê¸°ëŠ¥ì€ ì•±ì¼ì—ì„œ êµ¬í˜„í•˜ì§€ ì•Šê¸°ë¡œ ê²°ì •

  ***
  
- #### í†µì‹ 
  - í•œ ë‹¬ì”© ì¼ì • ë°›ì•„ì™€ì„œ ìº˜ë¦°ë”ì— ë¿Œë ¤ì£¼ê¸°  
    ì¼ì • ëª¨ë¸ decoding 
  ``` swift
    struct CalendarData: Codable {
    
      let status: Int
      let success: Bool
      let message: String
      var data: [SecondData]?
      
      enum CodingKeys: String, CodingKey{
          case status = "status"
          case success = "success"
          case message = "message"
          case data = "data"
      }
      
      init(from decoder: Decoder) throws {
          let values = try decoder.container(keyedBy: CodingKeys.self)
          status = (try? values.decode(Int.self, forKey: .status)) ?? -1
          success = (try? values.decode(Bool.self, forKey: .success)) ?? false
          message = (try? values.decode(String.self, forKey: .message)) ?? ""
          data = (try? values.decode([SecondData].self, forKey: .data)) ?? nil
      }
    }

    struct SecondData: Codable {
      var date: String
      var notice: [NoticeData]?
      
      enum CodingKeys: String, CodingKey{
          case date = "date"
          case notice = "notice"
      }
      
      init(from decoder: Decoder) throws {
          let values = try decoder.container(keyedBy: CodingKeys.self)
          date = (try? values.decode(String.self, forKey: .date)) ?? ""
          notice = (try? values.decode([NoticeData].self, forKey: .notice)) ?? nil
      }
    }

    struct NoticeData: Codable {
      var name: String
      var color: Int
      var noticeIdx: Int
      var category: String
      var startTime: String
      var endTime: String
      var title: String
      
      enum CodingKeys: String, CodingKey{
          case name = "name"
          case color = "color"
          case noticeIdx = "noticeIdx"
          case category = "category"
          case startTime = "startTime"
          case endTime = "endTime"
          case title = "title"
      }
      
      init(from decoder: Decoder) throws {
          let values = try decoder.container(keyedBy: CodingKeys.self)
          name = (try? values.decode(String.self, forKey: .name)) ?? ""
          color = (try? values.decode(Int.self, forKey: .color)) ?? -1
          noticeIdx = (try? values.decode(Int.self, forKey: .noticeIdx)) ?? -1
          category = (try? values.decode(String.self, forKey: .category)) ?? ""
          startTime = (try? values.decode(String.self, forKey: .startTime)) ?? ""
          endTime = (try? values.decode(String.self, forKey: .endTime)) ?? ""
          title = (try? values.decode(String.self, forKey: .title)) ?? ""
      }
  }
    ```
    - ë‚ ì§œ ìŠ¤íŠ¸ë§ ë¹„êµí•´ì„œ í•´ë‹¹í•˜ëŠ” ë‚ ì§œì— ì¼ì • ë„ìš°ê¸°
    - ìº˜ë¦°ë” ì…€ í´ë¦­í•˜ë©´ í•´ë‹¹ ë‚ ì§œì˜ ì´ë²¤íŠ¸ ëª¨ë¸ ë°°ì—´ë¡œ ë„˜ê²¨ì£¼ê¸°
    
    ***
- #### ìº˜ë¦°ë” íŒì—…ì—ì„œ ê³µì§€ ìƒì„¸ë·° ì—°ê²°
   - íŒì—…ì—ì„œ ê³µì§€ ì…€ì„ ëˆ„ë¥´ë©´ ê³µì§€ ìƒì„¸ë·°ë¡œ notice idxë¥¼ ì „ë‹¬í•˜ë©° present
   ```swift
   guard let popUpVC = sb.instantiateViewController(identifier: "NoticeEditViewController") as? NoticeEditViewController else {return}

  popUpVC.noticeIdx = noticeList?[indexPath.row].noticeIdx as! Int
  popUpVC.modalPresentationStyle = .overCurrentContext
  present(popUpVC, animated: true, completion: nil)
   ```

   - ê³µì§€ ìƒì„¸ë·°ì—ì„œ ë‚´ìš©ì„ ìˆ˜ì •í•˜ë©´ ìº˜ë¦°ë”ì—ì„œ update í•´ì£¼ê¸° ìœ„í•´ delegate protocol ì„¤ì •
  
   - ê³µì§€ ë°ì´í„° ë³„ë¡œ ë³´ì—¬ì£¼ëŠ” ì‹œê°„ ì„¤ì • ë‹¤ë¥´ê²Œ   
  ìˆ˜ì—…  : x   
  ê³¼ì œ : end time
  ì‹œí—˜ : start time

***

## EventListViewğŸ“Œ
  <img src="https://emoji.slack-edge.com/T016U39U5K2/ulink-purple/2e44cf60188f40d7.png" width="2%"> ê°œë°œë‚´ìš©
- #### ë¦¬ìŠ¤íŠ¸ ë§Œë“¤ê¸°
    - ë‚ ì§œ í‘œì‹œ ì…€ì„ í—¤ë” ì…€ë¡œ ì„¤ì •í•´ì„œ ë‚ ì§œ ë³„ë¡œ ê³µì§€ ì…€ì„ ë„ì›€   
    - ë‚ ì§œ ì…€ ë„ìš°ê³ , ë‚ ì§œì— í•´ë‹¹í•˜ëŠ” ìˆ˜ë§Œí¼ ê³µì§€ ì…€ ë„ìš°ê¸°
  ```swift
  func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -> Int {
        return serverData?[section].notice?.count ?? 0
    }
    
  func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -> UITableViewCell {
        guard let cell = tableView.dequeueReusableCell(withIdentifier: EventCell.identifier, for: indexPath) as? EventCell else {
        return UITableViewCell() }
        
        if let serverData = serverData?[indexPath.section].notice?[indexPath.row] {
            cell.set(serverData)
        }
        cell.changeViewColor(serverData?[indexPath.section].date ?? "")
        
        return cell
    }
    
  func tableView(_ tableView: UITableView, heightForRowAt indexPath: IndexPath) -> CGFloat {
        return 44
    }
    
  func tableView(_ tableView: UITableView, viewForHeaderInSection section: Int) -> UIView? {
        guard let cell = tableView.dequeueReusableCell(withIdentifier: EventListHeaderCell.identifier) as? EventListHeaderCell else {
        return UITableViewCell() }
        
        if let serverData = serverData?[section] {
            cell.set(serverData)
        }
        
        return cell
    }
    
  func numberOfSections(in tableView: UITableView) -> Int {
        return serverData?.count ?? 0
    }
    ```
  - ë””ë°ì´ ê³„ì‚°
  ```swift
   func getDday(date: String) -> Int{
        let dateFormatter = DateFormatter()
        dateFormatter.dateFormat = "yyyy-MM-dd"
        let myDay = dateFormatter.date(from: date)
        
        let start = cal.startOfDay(for: today)
        let end = cal.startOfDay(for: myDay!)
        
        let components = cal.dateComponents([.day], from: start, to: end)
        return components.day!
    }
  ```
  - ì˜¤ëŠ˜ ë‚ ì§œ ê³µì§€ ìƒ‰ êµ¬ë³„   
    ë””ë°ì´ í•¨ìˆ˜ ì´ìš©~!    
    ë””ë°ì´ê°€ 0ì´ë©´ ë°±ê·¸ë¼ìš´ë“œ ìƒ‰ ë°”ê¿”ì£¼ê¸°
  
  ```swift
  func changeViewColor(_ dateInfo: String){
        var dDay = getDday(date: dateInfo)
        if (dDay == 0){
            cellColorView.backgroundColor = UIColor.paleGreyTwo
        }
    }
  ```
  #### <ì—¬ê¸°ê¹Œì§€ ë·° ì™„ì„±ë³¸>
  <img src="./image/eventlist.png" width="40%">
***

## SearchViewğŸ·
<img src="https://emoji.slack-edge.com/T016U39U5K2/ulink-purple/2e44cf60188f40d7.png" width="2%"> ê°œë°œë‚´ìš©
  
- ì…ë ¥ ì•ˆí•˜ê³  ìˆì„ ë•ŒëŠ” ìµœê·¼ ê²€ìƒ‰, ì…ë ¥í•  ë•ŒëŠ” ìë™ì™„ì„±
  - header ìˆ¨ê¸°ê¸°, cell ë³€ê²½
  ```swift
  func textFieldShouldBeginEditing(_ textField: UITextField) -> Bool {
        self.headerView.frame = CGRect(x: 0, y: 0, width: self.headerView.frame.width, height: 0)
        headerView.isHidden = true
        searchTableView.reloadData()
        
        return true
  }

  func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -> UITableViewCell {
        guard let cell = tableView.dequeueReusableCell(withIdentifier: SearchedCell.identifier) as? SearchedCell else {
            return UITableViewCell() }
            
        guard let cell2 = tableView.dequeueReusableCell(withIdentifier: RealTimeSearchCell.identifier) as? RealTimeSearchCell else {
        return UITableViewCell() }
        
        
        if headerView.isHidden == true {
            cell2.show(titleString: serverData[indexPath.row])
            return cell2
        } else {
            cell.layer.addBorder(edge: [.bottom], color: UIColor.veryLightPinkTree, thickness: 1)
            cell.set(indexPath.row)
            cell.indexPathNum = indexPath.row
            cell.delegate = self
            return cell
        }
  }
  ```
- ìµœê·¼ ê²€ìƒ‰   
  - realmSwift ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©
  ```swift
  if (searchTextField.text != ""){
            try! realm.write {
                realm.add(searchedData)
            }
        }
  ```
  - ì‚­ì œ ë²„íŠ¼ êµ¬í˜„ ìœ„í•´ì„œ delegate protocol ì‚¬ìš©
  ```swift
  func didPressDeleteButton(_ tag: Int) {
        let savedDatas = realm.objects(SearchedListData.self)
        let predicate = NSPredicate(format: "searched = %@", savedDatas[tag].searched)

        try! self.realm.write({
            realm.delete(realm.objects(SearchedListData.self).filter(predicate))
        })
        
        searchTableView.reloadData()
    }
  ```
  - ì „ì²´ ì‚­ì œ ê¸°ëŠ¥
  #### <ì—¬ê¸°ê¹Œì§€ ë·° ì™„ì„±ë³¸>
  <img src="./image/searchedlist.png" width="40%">

***
- ê²€ìƒ‰ ìë™ì™„ì„±
  - ì‚¬ìš©ìê°€ ê¸€ìë¥¼ ì…ë ¥í•  ë•Œë§ˆë‹¤ ì„œë²„ì™€ í†µì‹ í•´ì„œ tableview ì—…ë°ì´íŠ¸ í•´ì£¼ê¸°
  ```swift
  func textField(_ textField: UITextField, shouldChangeCharactersIn range: NSRange, replacementString string: String) -> Bool {
        currentText = textField.text! + string
        getDataFromServer(currentString: currentText)
        searchTableView.reloadData()
        return true
    }
  ```
  - í†µì‹  ì½”ë“œ
  ```swift
  func openRecommendData(word: String, completion: @escaping (CalendarNetworkResult<Any>) -> Void) {
        if let userDefaultToken = UserDefaults.standard.string(forKey: "token") {
            let header: HTTPHeaders = ["Content-Type": "application/json", "token": userDefaultToken]
            
            var query: String = ""
            
            var queryWord = word.addingPercentEncoding(withAllowedCharacters: .urlQueryAllowed) ?? ""
            
            query = "?name=\(queryWord)"
            
            let dataRequest = Alamofire.request(APIConstants.searchURL + query, method: .get, encoding: JSONEncoding.default, headers: header)
            
            dataRequest.responseData { dataResponse in
                switch dataResponse.result {
                case .success:
                    guard let statusCode = dataResponse.response?.statusCode else { return }
                    guard let value = dataResponse.result.value else { return }
                    let networkResult = self.judge(by: statusCode, value)
                    completion(networkResult)
                case .failure: completion(.networkFail)
                }
            }
        }
    }
    ```
    #### <ì—¬ê¸°ê¹Œì§€ ë·° ì™„ì„±ë³¸>
  <img src="./image/auto.png" width="40%">

  __ìƒˆë¡œ ë°°ìš´ ì __    
   ğŸ‘‰ â—ï¸ì¿¼ë¦¬ë¬¸ì— í•œê¸€ ë„£ê¸° ìœ„í•´ì„œëŠ” í¼ì„¼íŠ¸ ì¸ì½”ë”© í•´ì•¼í•¨!!!

## ColorPickerViewğŸ¨
<img src="https://emoji.slack-edge.com/T016U39U5K2/ulink-purple/2e44cf60188f40d7.png" width="2%"> ê°œë°œë‚´ìš©

- ìƒ‰ ì„ í… ì»¬ë ‰ì…˜ ë·°
  - ì»¬ë ‰ì…˜ ë·° í˜ì´ì§• & í˜ì´ì§€ ì»¨íŠ¸ë¡¤
  ```swift
  func scrollViewWillEndDragging(_ scrollView: UIScrollView, withVelocity velocity: CGPoint, targetContentOffset: UnsafeMutablePointer<CGPoint>) {
        let cellWidthIncludeSpacing = colorCollectionView.frame.width

        var offset = targetContentOffset.pointee
        let index = (offset.x + scrollView.contentInset.left) / cellWidthIncludeSpacing
        let roundedIndex: CGFloat = round(index)
        
        pageControl.currentPage = Int(roundedIndex)

        offset = CGPoint(x: roundedIndex * cellWidthIncludeSpacing, y: scrollView.contentInset.top)
        targetContentOffset.pointee = offset
    }
  ```
  #### <ì—¬ê¸°ê¹Œì§€ ë·° ì™„ì„±ë³¸>
  <img src="./image/colorpicker.png" width="40%">